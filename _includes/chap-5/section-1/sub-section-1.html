<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3.0.1/es5/tex-mml-chtml.js"></script>
<div id="mogl">
<div align="center">
<figure>
<img src="/Atomes-doc/img/visu/menu/m_opengl-w.png" id="mogl" style="width:16.5cm" alt="The &quot;OpenGL&quot; menu and the attached submenus." />
<figcaption aria-hidden="true"><strong><span>Figure 5.2:</span></strong> The "<span><code>OpenGL</code></span>" menu and the attached submenus.</figcaption>
<br /></figure>
</div>
</div>
<p>The "<span><code>OpenGL</code></span>" menu is detailed in figure <a href="/Atomes-doc/chap-5/section-1/sub-section-1#mogl" data-reference-type="ref" data-reference="mogl">5.2</a>. The behavior of the "<span><code>Render</code></span>" menu [Fig. <a href="/Atomes-doc/chap-5/section-1/sub-section-1#mogl" data-reference-type="ref" data-reference="mogl">5.2</a>-c], and the "<span><code>Quality</code></span>" menu [Fig. <a href="/Atomes-doc/chap-5/section-1/sub-section-1#mogl" data-reference-type="ref" data-reference="mogl">5.2</a>-d], as well as of the "<span><code>Render image</code></span>" button being pretty intuitive the following only detail the behavior of the "<span><code>Style menu</code></span>", the "<span><code>Color scheme(s)</code></span>" menu [Fig. <a href="/Atomes-doc/chap-5/section-1/sub-section-1#mogl" data-reference-type="ref" data-reference="mogl">5.2</a>-b], and the "<span><code>Material and lights</code></span>" button.</p>
<h5 id="stylem">The "<span><code>Style</code></span>" menu</h5>
<p>Using the "<span><code>Style</code></span>" menu it is possible to define to <span><strong>default style</strong></span> of the model representation, the options are among the most commonly used in chemistry. Changing the <span><strong>default style</strong></span> from this menu will update several parts of the OpenGL window and associated menus. For instance selecting the "<span><code>Ball and stick</code></span>" option will update the first tab of "<span><code>Atom(s) configuration</code></span>" dialog [Fig. <a href="/Atomes-doc/chap-5/section-1/sub-section-2#advats" data-reference-type="ref" data-reference="advats">5.6</a>] to display atomic radius and the "<span><code>Bond(s)</code></span>" menu [Fig. <a href="/Atomes-doc/chap-5/section-1/sub-section-2#modl" data-reference-type="ref" data-reference="modl">5.5</a>] to present the "<span><code>Radius(ii)</code></span>" and offer a shortcut to modify their values.<br />
It is possible to define local style(s) to improve the visual representation, however this is only possible using the mouse, see section <a href="/Atomes-doc/chap-5/section-2/sub-section-2#mstyle" data-reference-type="ref" data-reference="mstyle">5.2.2.1</a>, and changing the <span><strong>default style</strong></span> of the model using the "<span><code>Style</code></span>" menu will reset/erase any local style(s) value(s) to the default.</p>
<h5 id="csm">The "<span><code>Color scheme(s)</code></span>" menu</h5>
<p>In the <span><strong>atomes</strong></span> program when the file is opened most of the bonding properties are calculated "on-the-fly", allowing to gain insights on the atomic coordinations, as well as the number of fragments and the different molecules in the model.<br />
Therefore before using the "<span><code>Color scheme(s)</code></span>" menu it is important to be familiar with the following definitions:</p>
<ul>
<li><p><span><strong>Total coordination</strong></span> = total number of first neighbor atoms around the atom.</p></li>
<li><p><span><strong>Partial coordination</strong></span> = number of atoms of each chemical species around the atom.</p></li>
<li><p><span><strong>Fragments</strong></span> = isolated molecular objects in the model.</p></li>
<li><p><span><strong>Molecules</strong></span> = the different topological objects in the model.</p></li>
<li><p><span><strong>Coordination polyhedra</strong></span> = structure drawn by linking the atoms of the first coordination sphere for a particular atom. Requires the considered atom to have 3 neighbors, then the atom it-self is used as a point to build the polyhedra, or more.</p></li>
</ul>
<p>The "<span><code>Color scheme(s)</code></span>" menu allows to change the Color Map (CM) for both atoms and coordination polyhedra, based on the bonding analysis performed using the bond cutoff(s) specified by the user. An illustration is provided in figure <a href="/Atomes-doc/chap-5/section-1/sub-section-1#cmaps" data-reference-type="ref" data-reference="cmaps">5.3</a> for the "<span><code>Ni-Phth</code></span>" project of the example workspace, note that is this model the molecule on the top is missing a hydrogen atom compared to the one that composed the surface.<br />
The colors of each objects can be modified/adapted via the appropriate menus/dialogs (see sections <a href="/Atomes-doc/chap-5/section-1/sub-section-2" data-reference-type="ref" data-reference="modelm">5.1.2</a> and <a href="/Atomes-doc/chap-5/section-1/sub-section-3" data-reference-type="ref" data-reference="chemm">5.1.3</a>).<br />
</p>
<div id="cmaps">
<div align="center">
<figure>
<img src="/Atomes-doc/img/visu/cmap/cmap-w.png" id="cmaps" style="width:16.5cm" alt="The standard Colors Maps (CM) for the atoms accessible using the &quot;Color scheme(s)&quot; menu. Top standard colors using the chemical species, a) Total coordinations as CM, b) Partial coordinations as CM, c) Fragments as CM and d) Molecules as CM." />
<figcaption aria-hidden="true"><strong><span>Figure 5.3:</span></strong> The standard Colors Maps (CM) for the atoms accessible using the "<span><code>Color scheme(s)</code></span>" menu. Top standard colors using the chemical species, <span><strong>a)</strong></span> Total coordinations as CM, <span><strong>b)</strong></span> Partial coordinations as CM, <span><strong>c)</strong></span> Fragments as CM and <span><strong>d)</strong></span> Molecules as CM.</figcaption>
<br /></figure>
</div>
</div>
<h5 class="unnumbered" id="using-a-custom-color-map">Using a custom color map</h5>
<p>Alternatively to the CMs proposed by the <span><strong>atomes</strong></span> program it is possible to apply a user defined CM to the OpenGL model, this option is accessible via the "<span><code>Custom</code></span>" button of the "<span><code>Atoms &amp; bonds</code></span>" menu [Fig. <a href="/Atomes-doc/chap-5/section-1/sub-section-1#mogl" data-reference-type="ref" data-reference="mogl">5.2</a>-b]. In that case it is required to read a file (having the extension "*.dat") that contains the numerical data to be used as color scale. This file must be a simple (Unix like) text file with as many lines as:</p>
<div align="center">
<p><span><strong>Total number of MD steps <span class="math inline">\(\times\)</span> Total number of atoms</strong></span></p>
</div>
<p>Indeed the new colors can be applied to the entire MD trajectory.<br />
An example is provided hereafter for the silica glass model:<br />
</p>
<ol>
<li><p>In the initial setup the chemical species are used as color map:</p>
<div align="center">
<p><img src="/Atomes-doc/img/visu/cmap/sio2-init.png" style="width:12cm" alt="image" /></p>
</div></li>
<li><p>When the "<span><code>Custom</code></span>" button is pressed for the atoms CMs, the "<span><code>Custom color map setup</code></span>" dialog appears:</p>
<div align="center">
<p><img src="/Atomes-doc/img/visu/cmap/custom.png" style="width:6cm" alt="image" /></p>
</div></li>
<li><p><span><strong>(a)</strong></span> The "<span><code>Import / Save data</code></span>" button allows to import your data file to create the color map. If the data file is processed successfully then <span><strong>atomes</strong></span> will propose to use it and a confirmation dialog will pop-up:</p>
<div align="center">
<p><img src="/Atomes-doc/img/visu/cmap/custom-read.png" style="width:8cm" alt="image" /></p>
</div>
<p>For this example the data points are simply the atom indices from 1 to 3000.</p></li>
<li><p><span><strong>(b)</strong></span> Afterwards using the "<span><code>Edit data</code></span>" button it becomes possible to edit the data in a basic spreadsheet like mode, so that values for a particular atom can be checked and/or modify if needed:</p>
<div align="center">
<p><img src="/Atomes-doc/img/visu/cmap/custom-edit.png" style="width:5cm" alt="image" /></p>
</div></li>
<li><p><span><strong>(c)</strong></span> And using the "<span><code>Customize color map</code></span>" button is possible to customize the color map, initially a gradient of red an blue between the maxima and the minima of the values in the data set is used, but you can easily add or remove point(s), and adjust the corresponding color to enhance the visual representation of your model:</p>
<div align="center">
<table>
<tbody>
<tr class="odd">
<td style="text-align: center;"><img src="/Atomes-doc/img/visu/cmap/custom-cinit.png" style="width:7cm" alt="image" /></td>
<td style="text-align: center;"><span class="math inline">\(\Longrightarrow\)</span></td>
<td style="text-align: center;"><img src="/Atomes-doc/img/visu/cmap/custom-cmore.png" style="width:7cm" alt="image" /></td>
</tr>
</tbody>
</table>
</div></li>
<li><p>Finally simply apply the changes to use the new colors:</p>
<div align="center">
<p><img src="/Atomes-doc/img/visu/cmap/sio2-custom.png" style="width:14cm" alt="image" /></p>
</div></li>
<li><p>The "<span><code>Custom</code></span>" data and the corresponding color map are saved within the <span><strong>atomes</strong></span> project and workspace files (see section <a href="/Atomes-doc/chap-3/section-3/sub-section-2" data-reference-type="ref" data-reference="apf">3.3.2</a> and <a href="/Atomes-doc/chap-3/section-3/sub-section-3" data-reference-type="ref" data-reference="awf">3.3.3</a>), so that it will not be require to load a prepare the color map between work sessions.</p></li>
</ol>
<h5 id="material-and-lights">Material and lights</h5>
<p>The "<span><code>Material and lights</code></span>" button of the "<span><code>OpenGL</code></span>" menu opens the "<span><code>OpenGL material aspect and light settings</code></span>" dialog [Fig. <a href="/Atomes-doc/chap-5/section-1/sub-section-1#advogl" data-reference-type="ref" data-reference="advogl">5.4</a>]:<br />
</p>
<div id="advogl">
<div align="center">
<figure>
<img src="/Atomes-doc/img/visu/adv-ogl.png" id="advogl" style="width:17cm" alt="The &quot;OpenGL material aspect and light settings&quot; dialog in the atomes program." />
<figcaption aria-hidden="true"><strong><span>Figure 5.4:</span></strong> The "<span><code>OpenGL material aspect and light settings</code></span>" dialog in the <span><strong>atomes</strong></span> program.</figcaption>
<br /></figure>
</div>
</div>
<p>The window contains a notebook with 3 tabs:</p>
<ul>
<li><p>The first tab allows to configure/adjust:</p>
<ul>
<li><p>The quality of the rendering, ie. the number of polygons to render a volume.</p></li>
<li><p>The lightning model, from the lowest quality (fastest to render, "<span><code>None</code></span>") to the highest quality (longer to render, "<span><code>Cook-Torrance-GCX</code></span>").</p></li>
<li><p>The material aspect, few templates being available, but all characteristics required to describe the material aspect for the light mode being available.</p></li>
</ul></li>
<li><p>The second tab allows to configure the lights sources of the model:</p>
<ul>
<li><p>3 type of light source being available: directional, point and spot lights.</p></li>
<li><p>With the possibility to add up to 10 light sources.</p></li>
</ul></li>
<li><p>Finally the third tab is used to adjust the fog effects</p></li>
</ul>
<p>For information on OpenGL lightning models, material effects, lights, and more see:</p>
<ul>
<li><p><a href="https://learnopengl.com/Lighting/Basic-Lighting">https://learnopengl.com/Lighting/Basic-Lighting</a></p></li>
<li><p><a href="https://learnopengl.com/Advanced-Lighting/Advanced-Lighting">https://learnopengl.com/Advanced-Lighting/Advanced-Lighting</a></p></li>
</ul>
